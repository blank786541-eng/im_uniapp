## 10.9.41

- feat: 会话创建逻辑优化

## 10.9.40

- feat: 新增设置当前会话功能
- feat: 消息收发新增消息来源标记
- feat: V2NIMError 关于上传失败的错误对象. 把 nos 失败的原始信息带上
- feat: 优化校验重发逻辑修改为: 有 messageServerId 且不为 “0”, 不为空, 报错. 其他都放过
- feat: 优化 document visibilityhidden 在熄屏场景不执行重连操作
- fix: 修复问题 “getMessageList 在 option.direction 不传时传锚点消息会查不出”
- fix: rn 上传文件的 content-type 设置出错. 只会被当成二进制文件, 不会被当成真正的媒体文件
- fix: 修正问题 uniapp 编 h5 登录被识别为 AOS/iOS

## 10.9.30

- feat: 新增仅删除漫游接口 clearRoamingMessage
- feat: 新增接口-修改群成员昵称-附加审核参数
- feat: 支持 IM/聊天室的登录抄送-见登录入参
- fix: 修复因消息创建的会话如果已有置顶, 漏掉了 sortOrder 的 100 前缀, 被当成了没有置顶的问题

## 10.9.20

- feat: 好友申请优化
  - 新增接口 setAddApplicationReadEx. 调用此接口才能让申请通知的 unread 属性变为 true.
  - getetAddApplicationUnreadCount 调整为“同一组的申请” 未读申请只能被计为未读数 1.
  - 标记 actionstatus 时，与 unread 属性调整为无关
- feat: 群申请优化
  - 新增接口 setTeamJoinActionInfoRead
  - 新增接口 getTeamJoinActionInfoUnreadCount 参照接口文档
  - 标记 actionstatus 时，与 unread 属性调整为无关

## 10.9.10

- feat: 信令相关能力优化, 追加 V2NIMSignallingEventType 枚举的
- V2NIM_SIGNALLING_EVENT_TYPE_KICK 用户被踢出的场景.
- feat: 全文检索能力支持双向检索-searchCloudMessagesEx
- feat: 全文检索能力支持倒序排序-searchCloudMessagesEx
- fix: 修复断线重连后仍旧可能收到在线时收过的消息.
- fix: 微信小程序上传文件获取的 size 参数类型当前为字符串，修复为数字

## 10.9.1

- feat: V2NIMMessageService.clearHistoryMessage 清空消息新增清空模式
- chore: V2NIMLoginService.login API 入参的 accountId 必须为 string
- feat: V2NIMSettingService.getPushMobileOnDesktopOnline 接口来获取推送桌面开关状态
- feat: V2NIMSettingService.getAllTeamMessageMuteMode 获取我所在的群的免打扰模式
- chore: 小程序端存储日志文件设计, 支持微信以及支付宝小程序的持久日志存储, 便于排查.
- fix: 因重新尝试 socket link 的顺序漏掉了最后一个
- feat: V2NIMTeamService.getJoinedTeamMembers 获取我所在的群的群成员信息
- fix: 处理转让群并且退出时，回调事件需要群成员信息，发协议补会失败的场景
- fix: =为了和 AOS 端统一，收发消息时 lastMessageUpdateEnabled: false 的消息, 所触发的会话 updateTime 会被忽略 lastMessage, updateTime, sortOrder 的更新

## 10.2.0

- V2NIM 系列模块上线, 全面替换掉 0.x 时代的模块.
- dist 产物目录改动, 分 v1 和 v2 两个目录

## 0.5.0

圈组 QChat SDK：

- feature: 圈组接入安全通（易盾）能力，涉及发送消息和创建服务器/频道/身份组场景
- feature: 圈组追加快捷评论功能
- feature: 圈组追加消息回复功能
- feature: 圈组补充消息抄送能力
- feature: 圈组身份证新增服务器封禁权限和封禁名单查询接口
- feature: 圈组身份证新增查询自己是否拥有某个权限接口
- feature: 增加对微信小程序，支付宝小程序，百度智能小程序，字节跳动小程序的适配

聊天室 Chatroom SDK：

- feature: 聊天室补充管理队列能力

## 0.4.2

- chore: 优化了 TS 定义
- fix: 修复了 nim 发送消息的 needPushNick 参数设置为 true，不能真的让移动端收到推送里的昵称的问题。

连接相关的优化或修复有：

- chore: 缩短了 nim sdk 对于 lbs 请求的超时时间的默认值，降至 10 s。
- chore: 优化了 qchat，nim，chatroom 三个 sdk 的重连表现。sdk 目前针对初始化的连接失败都会断开并且抛出异常，重连阶段尝试连接失败，只会记录日志而不会向上抛出异常。

## 0.4.0

- feature: 提供圈组 QChatSDK，参见 `QChat_BROWSER_SDK.js`。相关功能介绍和开发集成请分别参见[什么是圈组](https://doc.yunxin.163.com/docs/TM5MzM5Njk/jQ5MjIxNzE)和[圈组开发流程](https://doc.yunxin.163.com/docs/TM5MzM5Njk/Tc4ODUzODk)。
- chore: 优化建立连接的一些表现，如允许传入多个 lbsUrls，遍历找到一个可用值。

## 0.3.2

- fix: 修复调用 resetAllSessionsUnreadCount api 无响应的问题

## 0.3.0

- feature: 追加 deleteSelfMsgs 单向删除接口。
- feature: 推送插件以及适配代码，推送功能的使用参见文章：[uniapp 推送相关](/docs/TM5MzM5Njk/jIyMTE5NDk?platformId=60179)
- chore: uniapp 平台适配优化，能够支持编译去支付宝小程序，微信小程序
- chore: 优化撤回消息逻辑，使撤回消息后 session 的 unread 数等参数能得到正确的更新。
- chore: 聊天室追加鉴权方式
- fix: 修复登出协议的一些问题

## 0.2.0

- feature: 追加 superTeam 超级群逻辑
- fix: 修复同步阶段错误的把 syncRelations 当作是同步回包的 bug
- fix: 修复同步包超时问题
- fix: 修复被拉黑的情况下消息漫游下来的状态显示成功
- chore: 优化，追加 esm/index 供开发者上层使用 esm 打包的模块，便于做 tree shaking 节省体积
- chore: 使用 lodash 替代内部一些函数，打包体积增大 30kb

## 0.1.1

- 初始化参数支持传入 lbsUrls 和 linkUrl 来指定默认的连接地址
- 修复 NIM 建立连接没有区别出自动重连的情况

## 0.1.0

初版上线，拥有好友，用户，群，消息，会话，透传协议，系统消息，聊天室能力。
