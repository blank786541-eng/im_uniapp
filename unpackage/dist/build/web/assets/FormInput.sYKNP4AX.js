import{d as e,g as l,c as a,o as u,a as t,k as s,Q as o,e as d,V as r,W as n,f as p,n as i,t as c,X as m,Y as v}from"./index-CA_4_S1o.js";import{_ as f}from"./_plugin-vue_export-helper.BCo6x5W8.js";const h=f(e({__name:"FormInput",props:{className:{default:""},type:{default:"text"},modelValue:{default:""},placeholder:{default:""},allowClear:{type:Boolean,default:!1},rule:{default:null},maxlength:{default:140},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","input","focus","blur","clear"],setup(e,{emit:f}){const h=f,g=e,x=l(!1),b=l(!1),y=a(()=>[g.className,"form-input-item",{focus:x.value,error:b.value}]),V=a(()=>g.modelValue||""),_=e=>{x.value=!1,g.rule&&"blur"===g.rule.trigger&&(b.value=!g.rule.reg.test(g.modelValue||"")),h("blur",e)},k=e=>{x.value=!0,h("blur",e)},B=e=>{g.maxlength&&e.detail.value.length>g.maxlength||(h("update:modelValue",e.detail.value),h("input",e.detail.value)),0==e.detail.value.length&&(b.value=!1)};return(e,l)=>{const a=m,f=v;return u(),t("div",null,[s("div",{class:i(y.value)},[o(e.$slots,"addonBefore",{},void 0,!0),d(a,{class:"input default-text font-14",type:e.type,value:V.value,onInput:B,focus:x.value,onFocus:k,onBlur:_,placeholder:e.placeholder,maxlength:e.maxlength,disabled:g.disabled,"placeholder-class":"set_placeholder"},null,8,["type","value","focus","placeholder","maxlength","disabled"]),e.allowClear?(u(),t("div",{key:0,class:"clear-icon",onClick:l[0]||(l[0]=e=>(h("update:modelValue",null),h("input",null),h("clear",""),void(x.value=!0)))},[r(d(f,{type:"clear",size:"16"},null,512),[[n,e.modelValue&&e.allowClear]])])):p("",!0),o(e.$slots,"addonAfter",{},void 0,!0)],2),b.value&&e.rule?(u(),t("div",{key:0,class:"error-tips"},c(e.rule.message),1)):p("",!0)])}}}),[["__scopeId","data-v-4b9b5f72"]]);export{h as F};
