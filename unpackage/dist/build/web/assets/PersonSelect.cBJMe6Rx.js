import{d as e,g as a,q as s,o as t,a as c,k as l,l as n,v as o,F as u,r as d,t as r,u as i,f as m,_ as p,J as v,aQ as k,e as b,b as h,L as _,aR as I}from"./index-CA_4_S1o.js";import{A as f}from"./Avatar.cDMQ39ID.js";import{_ as x}from"./Appellation.vue_vue_type_script_setup_true_lang.Bn2FxhVA.js";import{E as y}from"./Empty.DhhBt1kg.js";import{_ as g}from"./_plugin-vue_export-helper.BCo6x5W8.js";const C=g(e({__name:"PersonSelect",props:{personList:{},showBtn:{type:Boolean,default:!0},btnText:{default:""},radio:{type:Boolean,default:!1},max:{default:Number.MAX_SAFE_INTEGER}},emits:["checkboxChange","onBtnClick"],setup(e,{emit:g}){const C=e,E=g,L=()=>{uni.$emit(p.FRIEND_SELECT),E("onBtnClick")},B=e=>{const a=e.detail.value;j.value=a,E("checkboxChange",a)},j=a([]);return s(()=>{j.value=C.personList.filter(e=>e.checked).map(e=>e.accountId)}),(e,a)=>{const s=_,p=v,g=I,C=k;return e.personList.length>0?(t(),c("div",{key:0,class:"friend-select-wrapper"},[l("div",{class:"member-wrapper"},[e.radio?(t(),n(p,{key:0,onChange:B},{default:o(()=>[(t(!0),c(u,null,d(e.personList,a=>(t(),c("div",{class:"member-item",key:a.accountId},[b(s,{class:"checkbox",value:a.accountId,checked:a.checked,disabled:a.disabled||j.value.length>=e.max&&!j.value.includes(a.accountId)},null,8,["value","checked","disabled"]),b(f,{class:"user-avatar",size:"36",account:a.accountId},null,8,["account"]),l("div",{class:"user-name"},[b(x,{account:a.accountId,teamId:a.teamId},null,8,["account","teamId"])])]))),128))]),_:1})):(t(),n(C,{key:1,onChange:B},{default:o(()=>[(t(!0),c(u,null,d(e.personList,a=>(t(),c("div",{class:"member-item",key:a.accountId},[b(g,{class:"checkbox",value:a.accountId,checked:a.checked,disabled:a.disabled||j.value.length>=e.max&&!j.value.includes(a.accountId)},null,8,["value","checked","disabled"]),b(f,{class:"user-avatar",size:"36",account:a.accountId},null,8,["account"]),l("div",{class:"user-name"},[b(x,{account:a.accountId,teamId:a.teamId},null,8,["account","teamId"])])]))),128))]),_:1}))]),e.showBtn?(t(),c("div",{key:0,style:{border:"1px solid #ccc"},onClick:L,class:"ok-btn"},r(e.btnText||i(h)("okText")),1)):m("",!0)])):(t(),n(y,{key:1,text:"暂无数据"}))}}}),[["__scopeId","data-v-997b3bef"]]);export{C as P};
