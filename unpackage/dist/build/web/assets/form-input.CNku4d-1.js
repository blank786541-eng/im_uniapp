import{d as e,g as l,q as a,c as t,o as u,a as o,k as s,Q as r,e as d,V as p,W as n,n as v,t as c,f as i,X as m,Y as f}from"./index-CA_4_S1o.js";import{_ as g}from"./_plugin-vue_export-helper.BCo6x5W8.js";const y=g(e({__name:"form-input",props:{className:{type:String,default:""},labelKey:{type:String,default:""},type:{type:String,default:"text"},errorText:{type:String,default:""},value:{type:String,default:""},placeholder:{type:String,default:""},maxLength:{type:Number,default:255},allowClear:{type:Boolean,default:!1},rule:{type:Object,default:null}},emits:["updateModelValue"],setup(e,{emit:g}){const y=g,h=e,x=l(!1),V=l(!1);l("");const _=l("");a(()=>{_.value=h.value,y("updateModelValue",_.value)});const b=t(()=>[h.className,"form-input-item",{focus:x.value,error:V.value}]),S=e=>{let l=e.detail.value;"tel"===h.type&&(l=l.replace(/\D/g,"")),y("updateModelValue",l,h.labelKey)},M=()=>(x.value=!1,V.value=!1,console.log(_.value),h.rule&&"blur"===h.rule.trigger&&(V.value=!h.rule.reg.test(_.value||"")),x.value);return(l,a)=>{const t=m,g=f;return u(),o("div",null,[s("div",{class:v(b.value)},[r(l.$slots,"addonBefore",{},void 0,!0),d(t,{class:"input",type:e.type,value:e.value,modelValue:_.value,"onUpdate:modelValue":a[0]||(a[0]=e=>_.value=e),onInput:S,focus:x.value,onFocus:a[1]||(a[1]=e=>x.value=!0),onBlur:M,maxlength:e.maxLength,placeholder:e.placeholder,"placeholder-class":"set_placeholder"},null,8,["type","value","modelValue","focus","maxlength","placeholder"]),p(d(g,{type:"clear",size:"16",onClick:a[2]||(a[2]=e=>(y("updateModelValue",null),void(x.value=!0)))},null,512),[[n,e.value&&e.allowClear]]),r(l.$slots,"addonAfter",{},void 0,!0)],2),V.value&&e.rule?(u(),o("div",{key:0,class:"error-tips"},c(e.rule.message),1)):i("",!0)])}}}),[["__scopeId","data-v-1be03a89"]]);export{y as F};
