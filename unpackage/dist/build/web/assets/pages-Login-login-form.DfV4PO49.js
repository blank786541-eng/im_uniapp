import{d as e,g as a,q as l,o,a as s,k as t,n,t as r,Q as c,D as i,e as u,v as p,C as g,u as d,R as v,y as f,T as b,p as m}from"./index-CA_4_S1o.js";import{_ as x}from"./logo.JMJ4T4w9.js";import{L as y,i as _}from"./label-input.93u5bOWo.js";import{_ as k}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{c as h}from"./config.A7D2bxor.js";import"./form-input.CNku4d-1.js";const j=k(e({__name:"form-radio",props:{label:String,onchange:{type:Function,default:()=>{}}},setup(e){const i=e,u=a(!1);function p(){u.value=!u.value,i.onchange(u.value)}return l(()=>{u.value=uni.getStorageSync("autoLogin")||!1}),(a,l)=>(o(),s("div",{class:"flex-box flex-y-center",onClick:p,style:{"flex-shrink":"0"}},[t("div",{class:"radio"},[t("div",{class:n(["selection",u.value?"selection-a":"selection-in"])},null,2)]),t("span",{class:"label"},r(e.label),1),c(a.$slots,"default",{},void 0,!0)]))}}),[["__scopeId","data-v-bfeeb9fc"]]),S=k(e({__name:"login-form",setup(e){const l={reg:/^[a-zA-Z0-9]{6,}$/,message:_.accountError,trigger:"blur"},c={reg:/^.{6,}$/,message:_.pwdError,trigger:"blur"},k=a(!0),S=a(""),w=a(""),C=i({account:"",token:"",appkey:h.appKey});async function L(){k.value||v(C)}function K(e){uni.setStorageSync("autoLogin",e)}function $(e,a){C[a]=e,k.value=!(C.token.length>=6&&C.account.length>=6),console.log(k.value)}return(e,a)=>{const i=f,v=b;return o(),s("div",{class:"container"},[t("div",{class:"container-box"},[t("div",{class:"flex-center"},[u(i,{src:x,class:"logo"})]),t("div",{class:"form-login"},[u(y,{icon:"/static/account.png",value:C.account,label:"账号",placeholder:"请输入手机号",rule:l,labelKey:"account","error-text":S.value,onUpdateModelValue:$},null,8,["value","error-text"]),t("div",{style:{"margin-top":"18px"}},[u(y,{icon:"/static/password.png",value:C.token,label:"密码",placeholder:"请输入密码","error-text":w.value,type:"password",labelKey:"token",onUpdateModelValue:$,rule:c},null,8,["value","error-text"])]),t("div",{class:"flex-box flex-space-between",style:{"margin-top":"9px"}},[u(j,{label:"记住密码",onchange:K}),t("div",null,[t("span",{class:"forget"},"忘记密码?")])])])]),u(v,{class:n(k.value?"login-btn-disabled":"login-btn"),onClick:L},{default:p(()=>[g(r(d(_).loginBtnTitle),1)]),_:1},8,["class"]),t("div",{class:"register-text",onClick:a[0]||(a[0]=e=>d(m)({url:"/pages/Login/register"}))}," 没有账号？立即注册 ")])}}}),[["__scopeId","data-v-3be78561"]]);export{S as default};
