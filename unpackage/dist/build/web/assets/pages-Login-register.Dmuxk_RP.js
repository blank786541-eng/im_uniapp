import{d as a,D as e,g as o,o as s,a as l,e as t,k as r,v as i,C as n,n as c,A as d,y as u,T as p}from"./index-CA_4_S1o.js";import{_ as m}from"./logo.JMJ4T4w9.js";import{i as g,L as v}from"./label-input.93u5bOWo.js";import{D as f}from"./defaultHeader.BLoWIqPs.js";import{_ as w}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./form-input.CNku4d-1.js";import"./AssetsImage.D01ldk7e.js";const b=w(a({__name:"register",setup(a){const w={reg:/^[a-zA-Z0-9]{6,}$/,message:g.accountError,trigger:"blur"},b={reg:/^.{6,}$/,message:g.pwdError,trigger:"blur"},h=e({account:"",password:"",confirmPassword:"",invitationCode:"",nikeName:""}),y=o(!1);async function k(){if(!h.account)return void uni.showToast({icon:"error",title:"账号不能为空"});if(!h.password)return void uni.showToast({icon:"error",title:"密码不能为空"});if(!h.confirmPassword)return void uni.showToast({icon:"error",title:"确认不能为空"});if(h.password!=h.confirmPassword)return void uni.showToast({icon:"error",title:"两次密码不一致"});await d({url:"im/api/register",data:h,method:"POST"})&&uni.showToast({title:"注册成功",duration:1e3,success:()=>{uni.navigateBack()}})}function x(a,e){h[e]=a,y.value=h.account.length>6&&h.password.length>6&&h.confirmPassword.length>6}return(a,e)=>{const o=u,d=p;return s(),l("div",{class:"container"},[t(f,{title:"注册"}),r("div",{class:"container-box"},[r("div",{class:"flex-center"},[t(o,{src:m,class:"logo"})]),r("div",{class:"form-login"},[r("div",{style:{"margin-top":"18px"}},[t(v,{icon:"/static/account.png","label-key":"nikeName",onUpdateModelValue:x,value:h.nikeName,label:"姓名",placeholder:"请输入名称"},null,8,["value"]),t(v,{icon:"/static/account.png",label:"账号",placeholder:"请输入手机号","label-key":"account",onUpdateModelValue:x,value:h.account,rule:w},null,8,["value"]),r("div",{style:{"margin-top":"18px"}},[t(v,{icon:"/static/password.png",type:"password","label-key":"password",onUpdateModelValue:x,rule:b,value:h.password,label:"密码",placeholder:"请输入密码"},null,8,["value"])]),r("div",{style:{"margin-top":"18px"}},[t(v,{icon:"/static/password.png",type:"password","label-key":"confirmPassword",onUpdateModelValue:x,value:h.confirmPassword,rule:b,label:"确认密码",placeholder:"确认密码"},null,8,["value"]),r("div",{style:{"margin-top":"18px"}},[t(v,{icon:"/static/account.png","label-key":"invitationCode",onUpdateModelValue:x,value:h.invitationCode,label:"邀请码",placeholder:"请输入邀请码"},null,8,["value"])])])])])]),t(d,{class:c(y.value?"login-btn":"login-btn-disabled"),onClick:k},{default:i(()=>[n(" 注册 ")]),_:1},8,["class"]),r("div",{style:{height:"50px"}})])}}}),[["__scopeId","data-v-a2ae3d4e"]]);export{b as default};
