import{d as e,g as t,o as a,a as o,e as n,u as s,k as i,t as l,f as u,af as r}from"./index-CA_4_S1o.js";import{D as d}from"./defaultHeader.BLoWIqPs.js";import{b as m}from"./uni-app.es.f5Xd5cz1.js";import{_ as c}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./AssetsImage.D01ldk7e.js";const v=c(e({__name:"change-intro",setup(e){const c=t(1),v=t(""),p=t(-1);let f=t(!1);async function g(){let e={};1==c.value&&(e.intro=v.value),2==c.value&&(e.announcement=v.value);try{await uni.$UIKitStore.teamStore.updateTeamActive({teamId:p.value,info:e}),uni.showToast({title:"修改成功",duration:800,success:()=>{uni.navigateBack()}})}catch(t){uni.showToast({title:t.message,icon:"error"})}}return m(e=>{c.value=e.type,v.value=e.content;const t=uni.$UIKitStore.userStore.myUserInfo.accountId,a=null==e?void 0:e.id;p.value=null==e?void 0:e.id;const o=uni.$UIKitStore.teamMemberStore.getTeamMember(a,[t])[0],n=uni.$UIKitStore.teamStore.teams.get(a),s=null==n?void 0:n.updateInfoMode;(0===s&&0!==o.memberRole||1===s)&&(f.value=!0)}),(e,t)=>{const m=r;return a(),o("div",{class:"team-set-container"},[n(d,{title:1==c.value?"修改群介绍":"修改群公告","tap-action":g,"show-action":s(f)},null,8,["title","show-action"]),i("div",{class:"team-name-input-container"},[n(m,{disabled:!s(f),modelValue:v.value,"onUpdate:modelValue":t[0]||(t[0]=e=>v.value=e),style:{padding:"10px"},class:"default-text font-14"},null,8,["disabled","modelValue"]),s(f)?(a(),o("div",{key:0,class:"input-length"},l(100-v.value.length),1)):u("",!0)])])}}}),[["__scopeId","data-v-2f1990f3"]]);export{v as default};
