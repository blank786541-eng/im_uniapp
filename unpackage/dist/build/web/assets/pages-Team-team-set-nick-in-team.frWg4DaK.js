import{d as e,g as a,h as t,j as o,o as l,a as r,e as s,u as i,k as n,b as m}from"./index-CA_4_S1o.js";import{b as u}from"./uni-app.es.f5Xd5cz1.js";import{D as c}from"./defaultHeader.BLoWIqPs.js";import{F as p}from"./FormInput.sYKNP4AX.js";import{_ as d}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./AssetsImage.D01ldk7e.js";const v=d(e({__name:"nick-in-team",setup(e){const d=a(""),v=a(!1),f=a();let I="",x=()=>{};u(e=>{I=e?e.id:"",x=t(()=>{var e;f.value=uni.$UIKitStore.teamMemberStore.getTeamMember(I,[uni.$UIKitStore.userStore.myUserInfo.accountId])[0],d.value=(null==(e=f.value)?void 0:e.teamNick)||""})});const b=e=>{d.value=e},h=()=>{v.value=!0},k=()=>{console.log("修改昵称"),uni.$UIKitStore.teamMemberStore.updateMyMemberInfoActive({teamId:I,memberInfo:{teamNick:d.value.trim()}}).then(()=>{g()}).catch(e=>{uni.showToast({title:m("saveFailedText"),icon:"error"})})},g=()=>{uni.navigateBack({delta:1})};return o(()=>{x()}),(e,a)=>(l(),r("div",{class:"wrapper"},[s(c,{title:i(m)("nickInTeam"),"show-action":!0,"tap-action":k},null,8,["title"]),n("div",{class:"flex-box flex-y-center box"},[s(p,{class:"input","allow-clear":!0,maxlength:15,modelValue:d.value,placeholder:i(m)("nickInTeam"),"onUpdate:modelValue":b,"confirm-type":i(m)("okText"),onFocus:h},null,8,["modelValue","placeholder","confirm-type"])])]))}}),[["__scopeId","data-v-241f8635"]]);export{v as default};
