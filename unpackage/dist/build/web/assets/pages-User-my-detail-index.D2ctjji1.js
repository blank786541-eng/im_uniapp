import{d as e,g as a,h as i,j as s,o as t,a as o,e as l,u as n,k as r,t as u,C as c,Z as v,v as d,p as m,b as f,H as p,aS as h}from"./index-CA_4_S1o.js";import{A as g}from"./Avatar.cDMQ39ID.js";import{I as w}from"./Icon.DO2Wg01x.js";import{N as x}from"./NavBar.B_pGq4kd.js";import{f as A}from"./date.BkwCqfeE.js";import{h as T}from"./permission.DD8MzfWC.js";import{_ as I}from"./_plugin-vue_export-helper.BCo6x5W8.js";const y=I(e({__name:"index",setup(e){const I=a(),y=i(()=>{I.value=uni.$UIKitStore.userStore.myUserInfo}),b=(e,a)=>{m({url:`/pages/User/detail-item/index?key=${e}&value=${a}`})},C=e=>{const a=e.detail.value;uni.$UIKitStore.userStore.updateSelfUserProfileActive({...I.value,birthday:a}).catch(()=>{uni.showToast({title:f("updateText")+f("birthText")+f("failText"),icon:"error"})})},j=e=>{const a=0==e.detail.value?1:2;I.value.gender=a,uni.$UIKitStore.userStore.updateSelfUserProfileActive({...I.value,gender:a}).catch(()=>{uni.showToast({title:f("updateText")+f("genderText")+f("failText"),icon:"error"})})},k=()=>{try{uni.chooseImage({count:1,sizeType:["original"],success:function(e){uni.showLoading({title:""}),uni.$UIKitStore.userStore.updateSelfUserProfileActive({...I.value},e.tempFilePaths[0]).catch(()=>{uni.showToast({title:f("FailAvatarText"),icon:"error"})}).finally(()=>{uni.hideLoading()})},fail:function(e){},complete:T})}catch(e){uni.showToast({title:f("FailAvatarText"),icon:"error"})}},S=()=>{var e;uni.setClipboardData({data:(null==(e=I.value)?void 0:e.accountId)||"",showToast:!1,success:()=>{uni.showToast({title:f("copySuccessText"),icon:"none"})},fail:()=>{uni.showToast({title:f("copyFailText"),icon:"none"})}})};return s(()=>{y()}),(e,a)=>{const i=p,s=h;return t(),o("div",{class:"wrapper"},[l(x,{title:n(f)("PersonalPageText")},null,8,["title"]),r("div",{class:"userInfo-item-wrapper"},[r("div",{class:"userInfo-item",onClick:k},[r("div",{class:"item-left"},u(n(f)("avatarText")),1),r("div",{class:"item-right"},[l(g,{avatar:I.value&&I.value.avatar,account:I.value&&I.value.accountId},null,8,["avatar","account"]),l(w,{size:15,color:"#A6ADB6",iconClassName:"arrow",type:"icon-jiantou"})])]),r("div",{class:"box-shadow"}),r("div",{class:"userInfo-item",onClick:a[0]||(a[0]=()=>b("name",I.value&&I.value.name||I.value&&I.value.accountId))},[r("div",{class:"item-left"},u(n(f)("name")),1),r("div",{class:"item-right"},[r("div",{class:"nick"},u(I.value&&I.value.name||I.value&&I.value.accountId),1),l(w,{size:15,color:"#A6ADB6",iconClassName:"arrow",type:"icon-jiantou"})])]),r("div",{class:"box-shadow"}),r("div",{class:"userInfo-item"},[r("div",{class:"item-left"},u(n(f)("accountText")),1),r("div",{class:"item-right"},[c(u(I.value&&I.value.accountId)+" ",1),r("div",{onClick:v(S,["stop"]),class:"arrow"},[l(w,{size:15,color:"#A6ADB6",type:"icon-fuzhi1"})])])]),r("div",{class:"box-shadow"}),l(s,{onChange:j,value:I.value&&1===I.value.gender?0:1,range:[n(f)("man"),n(f)("woman")]},{default:d(()=>[r("div",{class:"userInfo-item"},[r("div",{class:"item-left"},u(n(f)("genderText")),1),r("div",{class:"item-right"},[l(i,{class:"uni-input"},{default:d(()=>[c(u(I.value&&0===I.value.gender?n(f)("unknow"):I.value&&1===I.value.gender?n(f)("man"):n(f)("woman")),1)]),_:1}),l(w,{size:15,color:"#A6ADB6",iconClassName:"arrow",type:"icon-jiantou"})])])]),_:1},8,["value","range"]),r("div",{class:"box-shadow"}),l(s,{mode:"date",value:I.value&&I.value.birthday,onChange:C,start:n(A)("start"),end:n(A)("end")},{default:d(()=>[r("div",{class:"userInfo-item"},[r("div",{class:"item-left"},u(n(f)("birthText")),1),r("div",{class:"item-right"},[l(i,{class:"uni-input"},{default:d(()=>[c(u(I.value&&I.value.birthday||n(f)("unknow")),1)]),_:1}),l(w,{size:15,color:"#A6ADB6",iconClassName:"arrow",type:"icon-jiantou"})])])]),_:1},8,["value","start","end"]),r("div",{class:"box-shadow"}),r("div",{class:"userInfo-item",onClick:a[1]||(a[1]=()=>b("mobile",I.value&&I.value.mobile||""))},[r("div",{class:"item-left"},u(n(f)("mobile")),1),r("div",{class:"item-right"},[c(u(I.value&&I.value.mobile||n(f)("unknow")),1),l(w,{size:15,color:"#A6ADB6",iconClassName:"arrow",type:"icon-jiantou"})])]),r("div",{class:"box-shadow"}),r("div",{class:"userInfo-item",onClick:a[2]||(a[2]=()=>b("email",I.value&&I.value.email||""))},[r("div",{class:"item-left"},u(n(f)("email")),1),r("div",{class:"item-right"},[r("div",{class:"email"},u(I.value&&I.value.email||n(f)("unknow")),1),l(w,{size:15,color:"#A6ADB6",iconClassName:"arrow",type:"icon-jiantou"})])])]),r("div",{class:"signature",onClick:a[3]||(a[3]=()=>b("sign",I.value&&I.value.sign||""))},[r("div",{class:"signature-key"},u(n(f)("sign")),1),r("div",{class:"signature-text"},u(I.value&&I.value.sign||n(f)("unknow")),1),l(w,{size:15,color:"#A6ADB6",iconClassName:"arrow",type:"icon-jiantou"})])])}}}),[["__scopeId","data-v-4bc1e25c"]]);export{y as default};
